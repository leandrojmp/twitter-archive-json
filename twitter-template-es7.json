{
    "order" : 0,
    "version" : 3,
    "index_patterns" : [
      "twitter-*"
    ],
    "settings" : {
      "index" : {
        "mapping" : {
          "ignore_malformed" : "true"
        },
        "refresh_interval" : "5s",
        "number_of_shards" : "1",
        "number_of_replicas" : "0"
      }
    },
    "mappings" : {
        "properties" : {
          "tweet" : {
              "properties" : {
                  "id" : { "type" : "keyword" },
                  "source" : { "type" : "keyword" },
                  "timestamp" : { 
                    "type" : "date",
                    "format": "yyyy-MM-dd HH:mm:ss Z"
                   },
                  "length" : { "type" : "integer" },
                  "geo" : { "type" : "geo_point" },
                  "text" : { 
                    "type" : "text",
                    "fields": {
                      "en" :{
                        "type": "text",
                        "analyzer": "english"
                      },
                      "br" :{
                        "type": "text",
                        "analyzer": "brazilian"
                      }
                    }
                  },
                  "users" : { "type" : "keyword" },
                  "year" : { "type" : "integer" },
                  "month" : { "type" : "keyword" },
                  "day" : { "type" : "keyword" },
                  "type" : { "type" : "keyword" }
              }
          },
          "type" : { "type" : "keyword" },
          "tags" : { "type" : "keyword" },
          "@timestamp" : {
              "format" : "strict_date_optional_time||epoch_millis",
              "type" : "date"
          }
        }
    }
}
